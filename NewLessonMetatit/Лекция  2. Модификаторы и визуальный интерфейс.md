# Модификаторы и визуальный интерфейс

## Что такое модификаторы 

Для настройки внешнего вида и стилизации большинства встроенных компонентов в Jetpack Compose применяются так называемые модификаторы. Модификаторы представляют функции, которые задают какой-то отдельный аспект для компонентов (или иными словами "модифицируют" внешний вид компонента), например, установка размеров компонента или его фонового цвета и т.д.

Большинство встронных компонентов поддерживают применение модификаторов через параметр modifier. Например, возьмем ранее встречавшийся простой компонент Text, который выводит некоторый текст. Данный компонент, как и другие компоненты в Jetpack Compose, определен в виде функции с аннотацией @Compose, которая имеет ряд параметров:


```kotlin
@Composable
fun Text(
    value: String,
    modifier: Modifier = Modifier,
     
    //..... остальные параметры
     
): @Composable Unit
```

Из определения функции компонента мы видим, что она имеет параметр modifier, который представляет тип (а если точнее интерфейс) Modifier. Его цель хранить конфигурационные настройки, которые применябтся к компонентами Composable. И тип Modifier предоставляет огромное количество встроенных функций-модификаторов, которые изменяют (модифицируют) отдельные аспекты компонентов. Далее отдельно рассмотрим отдельные группы этих функций. Большинство из них более или менее универсальны, применяются ко многим компонентам. А пока посмотрим на примере компонента Text, как применять модификаторы.

```kotlin
package com.example.helloapp
 
import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.compose.foundation.background
import androidx.compose.material3.Text
import androidx.compose.ui.Modifier
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.unit.sp
 
class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContent {
            Text(
                "Hello METANIT.COM",
                fontSize = 28.sp,
                modifier = Modifier.background(Color.LightGray)
            )
        }
    }
}
```

![](https://metanit.com/kotlin/jetpack/pics/3.1.png)

Здесь для компонента Text задается три параметра. Первый параметр представляет отображаемый текст. Второй параметр - fontSize задает размер шрифта - 28 единиц. Третий параметр задает модификаторы, которые применяются к компоненту:

```kotlin
modifier = Modifier.background(Color.LightGray)
```

В данном случае применяется только один модификатор - функция background(), которая устанавливает фоновый цвет. В нее передается определение цвета - здесь желтый цвет, предоставленный встроенным значением Color.LightGray.

Стоит учитывать, что функции модификаторы, как и используемые ими значения, необходимо импортировать:

```kotlin
import androidx.compose.foundation.background
import androidx.compose.ui.Modifier
import androidx.compose.ui.graphics.Color
```

## Применение нескольких модификаторов

К компоненту можно применять множество модификаторов по цепочке:

```kotlin
Modifier.модификатор1().модификатор2().модификатор3()...модификаторN()
```

Например, применим к компоненту Text несколько модификаторов:

```kotlin
package com.example.helloapp
 
import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.compose.foundation.background
import androidx.compose.foundation.layout.padding
import androidx.compose.material3.Text
import androidx.compose.ui.Modifier
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.unit.dp
import androidx.compose.ui.unit.sp
 
class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContent {
            Text(
                "Hello METANIT.COM",
                fontSize = 28.sp,
                modifier = Modifier
                    .background(Color.LightGray)
                    .padding(30.dp)
            )
        }
    }
}
```

Здесь к компоненту Text применяются три функции-модификатора. Первая задает фоновый цвет:

```kotlin
Modifier.background(Color.LightGray)
```

Второй модификатор устанавливает отступы (30 единиц) от границ контейнера:

```kotlin
padding(30.dp)
```

![](https://metanit.com/kotlin/jetpack/pics/3.2.png)

Стоит отметить, что порядок модификаторов может играть большую роль. Так, в примере выше сначала применяется фоновый цвет к элементу Text, затем его содержимое сдвигается на 30 единиц от границ контейнера. Но попробуем изменить порядок модификаторов:

```kotlin
package com.example.helloapp
 
import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.compose.foundation.background
import androidx.compose.foundation.layout.padding
import androidx.compose.material3.Text
import androidx.compose.ui.Modifier
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.unit.dp
import androidx.compose.ui.unit.sp
 
class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContent {
            Text(
                "Hello METANIT.COM",
                fontSize = 28.sp,
                modifier = Modifier
                    .padding(30.dp)
                    .background(Color.LightGray)
            )
        }
    }
}
```

Теперь сначала содержимое Text сдвигается на 30 единиц, а потом к нему применяется фоновый цвет. И в итоге мы получим несколько иной результат:

![](https://metanit.com/kotlin/jetpack/pics/3.11.png)

# Установка цвета

Для установки фонового цвета применяется модификатор background(). Есть две версии этой функции. Первая версия:

```kotlin
fun Modifier.background(color: Color, shape: Shape = RectangleShape): Modifier
```

- color: значение цвета в виде объекта Color

- shape: закрашиваемая форма - объект Shape. По умолчанию это прямоугольная форма

Вторя версия:

```kotlin
fun Modifier.background(
    brush: Brush,
    shape: Shape = RectangleShape,
    alpha: Float = 1.0f
): Modifier
```

- brush: применяемая для покрытия цветом кисть в виде объекта Brush

- shape: закрашиваемая форма - объект Shape. По умолчанию это прямоугольная форма

- alpha: значение прозрачности. Оно должно находится в диапазоне от 0 (полностью прозрачно) до 1 (отсутствие прозрачности)

В данном случае разберем только установку цвета.

## Color. Определение цвета
В Jetpack Compose цвет представлен классом Color из пакета androidx.compose.ui.graphics..

Есть несколько способов создания цвета. Рассмотрим некоторые:

- Color(value): в конструктор передается шестнадцатеричное значение цвета. Например

```kotlin
val myColor: Color = Color(0xFF0000FF)
```

- Color(red, green, blue, alpha): в конструктор передается числовые значения для каждой отдельной компоненты цвета.

```kotlin
val myColor: Color = Color(red = 0xFF, green = 0xFF, blue = 0xFF, alpha = 0xFF)
```

Например, зададим фоновый цвет для компонента Text:

```kotlin
package com.example.helloapp
 
import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.compose.foundation.background
import androidx.compose.foundation.layout.padding
import androidx.compose.material3.Text
import androidx.compose.ui.Modifier
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.unit.dp
import androidx.compose.ui.unit.sp
 
class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContent {
            val myColor = Color(red = 0xF1, green = 0xAA, blue = 0x55, alpha = 0xFF)
            Text(
                "Hello METANIT.COM",
                fontSize=28.sp,
                modifier = Modifier.background(myColor).padding(30.dp)
 
            )
        }
    }
}
```

![](https://metanit.com/kotlin/jetpack/pics/3.3.png)

Также есть ряд встроенных значений:

- Color.Black
- Color.Blue
- Color.Cyan
- Color.DarkGray
- Color.Gray
- Color.Green
- Color.LightGray
- Color.Magenta
- Color.Red
- Color.Transparent
- Color.White
- Color.Yellow

Пример применения:

```kotlin
modifier = Modifier.background(Color.Yellow)
```

# Установка размеров

Для установки размеров компонентов в Jetpack Compose определен целый ряд модификаторов:

- Modifier.height(): устанавливает высоту
- Modifier.width(): устанавливает ширину
- Modifier.fillMaxHeight(): растягивает компонент по всей длине контейнера
- Modifier.heightIn(): устанавливает минимальную и максимальную высоту
- Modifier.widthIn(): устанавливает минимальную и максимальную ширину
- Modifier.size(): устанавливает размер
- Modifier.sizeIn(): устанавливает минимальный и максимальный размер

Для установки применяются единицы dp (device-independent pixels/density-independent pixels или независимые от устройства/плотности пиксели).

Например, установим для компонента Text высоту и ширину:

```kotlin
package com.example.helloapp
 
import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.compose.foundation.background
import androidx.compose.foundation.layout.height
import androidx.compose.foundation.layout.width
import androidx.compose.material3.Text
import androidx.compose.ui.Modifier
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.unit.dp
import androidx.compose.ui.unit.sp
 
class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContent {
            Text(
                "Hello METANIT.COM",
                fontSize=28.sp,
                modifier = Modifier.background(color=Color.LightGray).width(300.dp).height(200.dp)
            )
        }
    }
}
```

Обратите внимание, как устанавливаются значения - после числа перед dp идет точка.

![](https://metanit.com/kotlin/jetpack/pics/3.4.png)

Модификаторы width и height, как и другие модификаторы установки размеров, определены в пакете androidx.compose.foundation.layout. Мы их можем импортировать по отдельности:

```kotlin
import androidx.compose.foundation.layout.height
import androidx.compose.foundation.layout.width
```

Также можно подключить сразу все подобные модификаторы, что удобно при использовании сразу нескольких из них:

```kotlin
import androidx.compose.foundation.layout.*
```
С помощью модификатора size() можно объединить установку высоты и ширины:

```kotlin
package com.example.helloapp
 
import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.compose.foundation.background
import androidx.compose.foundation.layout.size
import androidx.compose.material3.Text
import androidx.compose.ui.Modifier
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.unit.dp
import androidx.compose.ui.unit.sp
 
class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContent {
            Text(
                "Hello METANIT.COM",
                fontSize=28.sp,
                modifier = Modifier.background(color=Color.LightGray).size(width = 300.dp, height= 200.dp)
            )
        }
    }
}
```
Если высота и ширина совпадают, то можно передать в функцию size() только одно общее значение. Например, установка ширины и высоты в 300 единиц:

```kotlin
modifier = Modifier.background(color=Color.LightGray).size(300.dp)
```

## Установка минимальных и максимальных размеров
Модификаторы heightIn() и widthIn() принимают два значения - минимальные и максимальные значения. Например:

```kotlin
modifier = Modifier.background(color=Color.LightGray)
                    .widthIn(min = 100.dp, max = 400.dp)
                    .heightIn(min=50.dp, max=300.dp)
```

С помощью sizeIn можно сократить определение размеров:

```kotlin
modifier = Modifier.background(color=Color.LightGray)
                    .sizeIn(minWidth = 100.dp, maxWidth = 400.dp, minHeight= 50.dp, maxHeight= 300.dp)

```

## Растяжение по всей длине и ширине контейнера

Отдельная группа модификаторов позволяет растянуть компонент по все длине и(или) ширине контейнера:

- Modifier.fillMaxWidth(): растягивает компонент по всей ширине контейнера
- Modifier.fillMaxHeight(): растягивает компонент по всей высоте контейнера
- Modifier.fillMaxSize(): растягивает компонент по всей длине и ширине контейнера

Например, растянем компонент Text по всей ширине и длине контейнера:

```kotlin
package com.example.helloapp
 
import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.compose.foundation.background
import androidx.compose.foundation.layout.fillMaxSize
import androidx.compose.material3.Text
import androidx.compose.ui.Modifier
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.unit.sp
 
class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContent {
            Text(
                "Hello METANIT.COM",
                fontSize=28.sp,
                modifier = Modifier.background(color=Color.LightGray).fillMaxSize()
            )
        }
    }
}
```

![](https://metanit.com/kotlin/jetpack/pics/3.5.png)

В качестве параметра модификаторы Modifier.fillMaxWidth(), Modifier.fillMaxHeight() и Modifier.fillMaxSize() принимают множитель, который устанавливает, какую часть от размеров контейнера займет компонент. Это значение имеет тип Float и находится в диапазоне от 0.0 до 1.0. Например:

```kotlin
package com.example.helloapp
 
import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.compose.foundation.background
import androidx.compose.foundation.layout.fillMaxSize
import androidx.compose.material3.Text
import androidx.compose.ui.Modifier
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.unit.sp
 
class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContent {
            Text(
                "Hello METANIT.COM",
                fontSize=28.sp,
                modifier = Modifier.background(color=Color.LightGray).fillMaxSize(0.5f)
            )
        }
    }
}
```

Переданное в функцию fillMaxSize() значение 0.5f указывает, что компонент получит половину (или 0.5) от ширины и длины контейнера.

![](https://metanit.com/kotlin/jetpack/pics/3.6.png)