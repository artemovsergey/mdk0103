# Практическая работа 20. Передача данных через Intent

## Совместное использование данных с другими приложениями

Если вы хотите организовать обмен простыми данными с другим приложением,
это можно сделать с помощью интентов (```Intent```). Интент можно рассматривать
как «намерение что-то сделать». Это разновидность сообщения, которая позволяет
передать данные другому объекту (например, активности) во время выполнения.

## Обмен данными с диспетчером Android

Если вы хотите передать текст другой активности, для
этого можно воспользоваться кодом следующего вида:

```kotlin
val sendIntent: Intent = Intent().apply {
 action = Intent.ACTION_SEND
 putExtra(Intent.EXTRA_TEXT, "This is some text.")
 type = "text/plain"
}
startActivity(sendIntent)
```

Сначала в коде создается объект ```Intent``` с именем
```sendIntent```. Он использует свойство ```type``` для определения типа передаваемых данных (в нашем случае это
простой текст) и метод ```putExtra()``` для присоединения
данных (в нашем случае это некий текст).
Свойство ```action``` сообщает Android, какие типы активностей могут получать сообщение. В нашем случае значение задается следующей командой:

```kotlin
action = Intent.ACTION_SEND
```
Это означает, что сообщение ```Intent``` могут получать только
активности, которые могут отправлять сообщения.
Отправка выполняется следующей командой:

```kotlin
startActivity(sendIntent)
```
Android ищет во всех приложениях на устройстве активности, способные получать интенты с заданным действием и
типом. Если Android найдет несколько таких активностей,
открывается экран определителя интентов (```Intent Resolver```).
На нем пользователь может выбрать приложение, с которым
он хочет обменяться данными.

Android запускает активность и передает ей данные.

## Совместное использование данных через Android Sharesheet

В большинстве случаев удобнее осуществлять совместное использование
данных через ```Android Sharesheet```. Этот вариант позволяет вам указать, с кем
и как вы хотите совместно использовать данные. Код выглядит так:

```kotlin
val sendIntent: Intent = Intent().apply {
 action = Intent.ACTION_SEND
 putExtra(Intent.EXTRA_TEXT, "This is some text.")
 type = "text/plain"
}
val shareIntent = Intent.createChooser(sendIntent, null)
startActivity(shareIntent)
```

Как видно из листинга, код включает дополнительный
вызов метода ```createChooser()``` объекта ```Intent```. При
выполнении открывается экран ```Android Sharesheet```:









